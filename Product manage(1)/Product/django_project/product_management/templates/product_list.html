<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Danh sách sản phẩm</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body>
    <div class="container mt-5">
        <h1 class="mb-4">Danh sách sản phẩm</h1>
        <a href="/create/" class="btn btn-primary mb-3">Thêm sản phẩm mới</a>
        
        <table class="table table-bordered text-center">
            <thead class="table-dark">
                <tr>
                    <th>Tên hàng hóa</th>
                    <th>Giá mua</th>
                    <th>Giá bán</th>
                    <th>Số lượng trong kho</th>
                    <th>Số lượng đã bán</th>
                    <th>Hành động</th>
                </tr>
            </thead>
            <tbody>
                {% for item in items_product %}
                <tr>
                    <td>{{ item.name }}</td>
                    <td>{{ item.price_purchase }}</td>
                    <td>{{ item.price_selling }}</td>
                    <td>{{ item.quantity }}</td>
                    <td>{{ item.quantity_sold }}</td>
                    <td>
                        <a href="/update/{{ item.id }}/" class="btn btn-info btn-sm">Sửa</a>
                        <a href="/delete/{{ item.id }}/" class="btn btn-danger btn-sm"
                           onclick="return confirm('Bạn có chắc muốn xóa sản phẩm này?')">Xóa</a>
                    </td>
                </tr>
                <tr>
                    <td colspan="6">
                        <form method="get" action="/sell/{{ item.id }}/" class="d-flex justify-content-center">
                            <input type="number" name="quantity" class="form-control form-control-sm w-25"
                                   placeholder="Nhập số lượng" required>
                            <button type="submit" class="btn btn-success btn-sm ms-2"
                                    onclick="return confirm('Xác nhận bán sản phẩm này?')">Bán</button>
                        </form>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</body>
</html>
